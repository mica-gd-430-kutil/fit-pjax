!function(a){var b=a.History,c=a.jQuery,d=a.document;return b.enabled?void c(function(){var e="#content,article:first,.article:first,.post:first",f=c(e).filter(":first"),g=f.get(0),h=c("#menu,#nav,nav:first,.nav:first").filter(":first"),i="active selected current youarehere",j=".active,.selected,.current,.youarehere",k="> li,> ul > li",l="statechangecomplete",m=c(a),n=c(d.body),o=b.getRootUrl(),p={duration:800,easing:"swing"};0===f.length&&(f=n),c.expr[":"].internal=function(a){var b,d=c(a),e=d.attr("href")||"";return b=e.substring(0,o.length)===o||-1===e.indexOf(":")};var q=function(a){var b=String(a).replace(/<\!DOCTYPE[^>]*>/i,"").replace(/<(html|head|body|title|meta|script)([\s\>])/gi,'<div class="document-$1"$2').replace(/<\/(html|head|body|title|meta|script)\>/gi,"</div>");return c.trim(b)};c.fn.ajaxify=function(){var a=c(this);return a.find("a:internal:not(.no-ajaxy)").click(function(a){var d=c(this),e=d.attr("href"),f=d.attr("title")||null;return 2==a.which||a.metaKey?!0:(b.pushState(null,f,e),a.preventDefault(),!1)}),a},n.ajaxify(),m.bind("statechange",function(){var r=b.getState(),s=r.url,t=s.replace(o,"");n.addClass("loading"),f.animate({opacity:0},800),c.ajax({url:s,success:function(b){var o,r,u,v=c(q(b)),w=v.find(".document-body:first"),x=w.find(e).filter(":first");if(u=x.find(".document-script"),u.length&&u.detach(),r=x.html()||v.html(),!r)return d.location.href=s,!1;o=h.find(k),o.filter(j).removeClass(i),o=o.has('a[href^="'+t+'"],a[href^="/'+t+'"],a[href^="'+s+'"]'),1===o.length&&o.addClass(i),f.stop(!0,!0),f.html(r).ajaxify(),d.title=v.find(".document-title:first").text();try{d.getElementsByTagName("title")[0].innerHTML=d.title.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(y){}u.each(function(){var a=c(this),b=a.text(),e=d.createElement("script");a.attr("src")&&(a[0].async||(e.async=!1),e.src=a.attr("src")),e.appendChild(d.createTextNode(b)),g.appendChild(e)}),n.ScrollTo&&n.ScrollTo(p),n.removeClass("loading"),m.trigger(l),"undefined"!=typeof a._gaq&&a._gaq.push(["_trackPageview",t]),"undefined"!=typeof a.reinvigorate&&"undefined"!=typeof a.reinvigorate.ajax_track&&reinvigorate.ajax_track(s)},error:function(){return d.location.href=s,!1}})})}):!1}(window),$(function(){});